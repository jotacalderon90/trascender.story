<!--use:_views/m.main-->

<!--define:title-->
Timeline
<!--/define:title-->

<!--define:css-->
	<link rel="stylesheet" href="css/story.css" />
	<link rel="stylesheet" href="js/lib/timeliner-2.31/css/timeliner.css" type="text/css" media="screen">
	<style>
		body {
		  background: #090a0f url("https://www.itl.cat/pngfile/big/225-2250015_informatica.jpg") no-repeat bottom right fixed;
		  -webkit-background-size: cover;
		  -moz-background-size: cover;
		  -o-background-size: cover;
		  background-size: cover;
		}
		.background-over{
			width: 100%;
			height: 100%;
			background: black;
			position: fixed;
			top: 0;
			left: 0;
			opacity: 0.85;
			z-index: 1;
		}
		.main-over{
			position: relative;
			z-index: 2;
		}

		.timeline-container{
			max-width: 100%;
		}
		.timeline-wrapper{
			max-width: 100%;
		}
		.timeline-wrapper h2{
			font-size: 2em;
		}
		.timeline-series{
			max-width: 100%;
		}
		.timeline-series dt{
			white-space:normal;
		}
		@media (max-width: 768px) {
			.main-over{
				width: 100%;
				height: 100%;
				position: fixed;
				overflow: auto;
				top: 0;
				left: 0;
				z-index: 2;
				padding-top: 30px;
			}
			.page-header{
				padding: 5px;
			}
			.timeline-series dd h3{
				float: none;
			}
			.timeline-event-content .media{
				float: none;
			}
			.timeline-event-content p{
				max-width: 90%;
			}
		}
	</style>
<!--/define:css-->

<!--define:main-->
	<div class="background-over"></div>
	<div class="main-over" data-ng-controller="storyCtrl as ctrl">
		<div class="page-header">
			<h1>Línea de tiempo</h1>
		</div>
		<div class="input-group search">
			<input type="text" class="form-control" placeholder="Ingrese un concepto" id="input_tag" data-ng-model="ctrl.timeline.query.tag"/>
			<span class="input-group-btn">
				<button class="btn btn-default" type="button" data-ng-click="ctrl.timeline.getTotal()">
					<i class="fa fa-search"></i>
				</button>
			</span>
		</div>
		<div id="timeline" class="timeline-container">
			<div class="timeline-wrapper" data-ng-repeat="row in ctrl.timeline.coll">
				<h2 class="timeline-time" data-ng-show="row.epoch!=ctrl.timeline.coll[$index-1].epoch"><span>{{row.epoch}}</span></h2>
				<dl class="timeline-series">
					<dt id="{{$index}}" class="timeline-event "><a>{{row.title}}</a></dt>
					<dd class="timeline-event-content" id="{{$index}}EX">
						<h3>{{row.fechat}}</h3>
						<div class="media">
							<img data-ng-src="{{row.img}}" width="240" height="180" alt="{{row.title}}">
							<p class="mediaLink" data-ng-repeat="font in row.font">
								<a href="{{font}}" target="_blank" class="CBmodal" title="{{row.title}}">ver {{$index+1}}° referencia</a>
							</p>
						</div>
						<p>{{row.resume}}. {{row.fecha}}.</p>
						<br>
						<ul class="list-unstyled">
							<li data-ng-repeat="tag in row.tag">
								<a class="label label-success" href="/story/timeline?tag={{tag}}">{{tag}}</a>
							</li>
						</ul>
						<br class="clear">
					</dd>
				</dl>
			</div>
			<div class="timeline-wrapper">
				<h2 class="timeline-time" data-ng-show="ctrl.timeline.obtained < ctrl.timeline.cant" data-ng-click="ctrl.timeline.getCollection()">
					<span>Cargar más</span>
				</h2>
			</div>
			<br class="clear">
		</div>
	</div>
<!--/define:main-->

<!--define:script-->
	<script type="text/javascript" src="js/lib/timeliner-2.31/js/timeliner.js"></script>
	<script type="text/javascript">
		var instances = {story: ["timeline"]};
	</script>
	<script type="text/javascript" src="js/story.js"></script>
<!--/define:script-->